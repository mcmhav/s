#!/bin/bash

t2s() {
  sed 's/d/*24*3600 +/g; s/h/*3600 +/g; s/m/*60 +/g; s/s/\+/g; s/+[ ]*$//g' <<<"$1" | bc
}

ITERATIONS=$(t2s "$1")

for i in $(seq "$ITERATIONS"); do
  sleep 1
  echo "$i"
done | python _tqdm.py --total "$ITERATIONS" >>/dev/null

if [ -n "$2" ]; then
  $2
fi
