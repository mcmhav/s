#!/usr/bin/env bash

RESOURCE="${1:-pod}"

kubectl get "$RESOURCE" -A | fzf \
  --preview "kubectl logs {+2} -n {+1} -f| bat --paging=never -l log" \
  --bind=ctrl-j:preview-down \
  --bind=ctrl-k:preview-up \
  --bind=ctrl-d:preview-half-page-down \
  --bind=ctrl-u:preview-half-page-up
