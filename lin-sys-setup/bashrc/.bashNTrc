#!/usr/bin/env bash

# nt-related:

gruntWatchers() {
    grunt dev;
    cd './chat' && grunt watch &
    cd './profil/mine-spill' && grunt watch &
    cd './dialog' && grunt watch &
    cd './core' && grunt watch &
    cd './user' && grunt watch &
    cd './sport/langoddsen' && grunt watch &
    cd './sport/langoddsen-minimal' && grunt watch &
    cd './sport/liveoddsen' && grunt watch &
    cd './sport/tipping' && grunt watch &
    cd './sport/resultater' && grunt watch &
    cd './lottery/resultater' && grunt watch &
    cd './sport/tipping-light' && grunt watch &
    cd './selskapet' && grunt watch &
    cd './responsible_gaming' && grunt watch &
    cd './newsletter' && grunt watch &
    cd './ukens-potter' && grunt watch &
    cd './grasrotandelen' && grunt watch &
    cd './insta' && grunt watch &
    cd './customer-service' && grunt watch &
    cd './global-search' && grunt watch &
    cd './commissioner' && grunt watch &
    cd './info-cards' && grunt watch &
    cd './marked/drommetanken' && grunt watch &
    grunt watch:styles &
    grunt watch:scripts &
    grunt watch:xsls &
}

getVersionNumber(){
    awk -F '"' '/version/{print $4}' package.json
}
affel() {
    find . -maxdepth 4 -path '*/dist' -not \( -path '*/bower_components/*' -prune \) -not \( -path '*/node_modules/*' -prune \) -type d -exec rm -r {} \;
    grunt all;
    grunt dev;
}

alias gw='gruntWatchers'
alias gf='grunt framework'
alias gafl='affel'
alias gv='getVersionNumber';

alias asstart='asadmin start-domain';
alias asstop='asadmin stop-domain';
alias aslist='asadmin list-domains';

alias mvni='mvn clean install';

alias sgafl='source ~/.bashrc && asstop && gafl && asstart && gw';
alias gltail='tail /d/ntuser/glassfish-3.1.2.2/glassfish/domains/dev01-env30/logs/server.log -n 200';
alias gotor='cd /d/ntuser/workspaces/resources';

updateRCs(){
    ln -sf ~/r/s/lin-sys-setup/.vimrc ~/.vimrc;
    ln -sf ~/r/s/lin-sys-setup/.bashrc ~/.bashrc;
}
